# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased

## [0.5.0+26] - 2025-2-6
1. 修复教务功能

## [0.4.7+25] - 2024-11-26
1. 修复专升本系统无法查看课程详情的问题
2. 增加日志上传功能

## [0.4.6+24] - 2024-11-20
1. 修复因教务系统考试安排数据格式异常导致整个课程获取失败问题
2. 登录需要图形验证码时AI自动处理

## [0.4.5+23] - 2024-11-18
1. 修复保存添加课程返回逻辑
2. 修复没有课程的周添加不了课程

## [0.4.4+22] - 2024-11-18
1. 当设置背景后，给文字添加阴影，避免看不见文字
2. 添加本周提示
3. 修复图像剪裁：图片旋转时剪裁框也跟着旋转的bug
4. 课表显示考试安排
5. 由于英语翻译不全，关闭英语翻译
6. 使用并发优化同步速度
7. 将解析html代码放入isolate
8. 更新学分绩计算方法，排除任选课
9. 更新日历库版本，新增2025节假日
10. 评教支持选择学期
11. 添加课程功能
12. 优化大屏课表字体
13. 优化反馈页面使用正则验证
14. 添加作息时间表
15. 修复用户列表不能选择本用户问题
16. 上传图片开启压缩

## [0.4.3+21] - 2024-10-15
- 重构登录页面逻辑 wilinz 2024/10/10 23:38
- :sparkles: add new campus network authentication URLs to toolbox wilinz 2024/10/12 15:01
- 增加用户列表界面 wilinz 2024/10/12 22:25
- 优化用户列表界面，显示名字 wilinz 2024/10/12 23:00
- 修复本科新系统实验课教室错误， 修复专升系统晚上有些课不显示 wilinz Yesterday 21:20
- 添加本科教务系统学分绩查询 wilinz Today 14:52
- 修复用户真名同步 wilinz Today 14:58

## [0.4.2+20] - 2024-10-09
- 修复部分课程节次解析错误（如两节连堂课只显示一节）
- 剪裁图片添加翻转功能
- 修复ios图片路径更新app后失效
- 工具箱增加课堂直播入口

## [0.4.1+19] - 2024-10-08
- 修复部分课程解析错误（周数解析错误）
- 优化调休逻辑

## [0.4.0+18] - 2024-09-11

### 新增
- 更新了课表部分文本，使用了新的映射规则。
- 在 `guet_login` 页面中添加了帮助按钮，并实现了 URL 跳转功能。
- 为假期调整选项更新了图标。
- 假期调休功能上线。
- 添加 `CustomTermDialog` 组件，用于学期选择。
- 增加 `HolidayInfo` 类中的 `target` 字段及相关方法。
- 添加课程选择令牌及相关数据库迁移。
- 添加课程选择服务 (`CourseSelectService`) 及其测试。
- 数据库版本从 9 升级到 10。
- 新增课程选择页面。
- 增加新系统学生 ID 字段到用户模型。
- 自定义位置映射中调整 Toast 底部位置。
- 增加全局主题上下文到 `SchedulePage` 和相关对话框。
- 在帖子详情页面为 `noItemsFoundIndicator` 文本添加内边距。
- Android 发布 APK 上传路径和名称更新。

### 更新
- 假期日期类型从 `List<String>` 更新为 `List<DateTime>`。
- 删除了 `profile.dart` 中不必要的 `ConstrainedBox` 组件。
- 优化了登录事件订阅，移除冗余。
- 更新了仓库文件中的 `StudentInfoService`。
- 删除了多余的注释，重命名函数，并创建了新文件。
- 数据库的 `OnConflictStrategy` 策略更改为 `replace`，以解决冲突。
- 更新 Android 发布工作流，添加 GitHub Actions 支持。
- 通过将重复术语移除和更新冲突策略，改进了数据库和逻辑处理。
- 将 `terms (term)` 字段设为唯一索引。
- 专升本适配完成。
- 增加了对本、专科生检测功能的支持。
- 在 `login_viewmodel` 中实现了 `onInit` 方法。
- 为活跃用户和流功能添加缓存支持。
- 支持本、专科生和研究生系统的升级。
- 数据库版本更新至 12 版。
- 增加了最后背景图片重命名文件时的赋值功能。
- 为论坛页面添加自定义背景图片功能。
- 增加 FAB 按钮滚动时的可见性。
- 优化了课表配色。
- 更新了主题变更页面的 `canPop` 条件。
- 调整了页面容器中的间距。
- 修复了成绩加载期间的异常处理逻辑。
- 更新了论坛帖子序列化问题并改进 UI。
- 更新了日期处理逻辑，解决了日期溢出问题。
- 更新了数据库字段，提升了仅支持旧系统的兼容性。
- 更新了背景图片页面的配色方案。
- 更新了登录页面的导航逻辑。

### 修复
- 修复了 SQL DELETE 语句错误。
- 修复了 Fluttertoast 依赖问题，并增加了自定义位置映射。
- 修复了 24 届新生无法登录的问题。
- 修复了论坛帖子的溢出文本问题。
- 修复了 POST 字段缺失的逻辑。
- 修复了数据库生成器版本更新中的 SQL 错误。
- 修复了背景图片设置的 BUG。
- 修复了主题颜色的错误。
- 修改了 Toast 的默认位置。
- 修复了日期溢出问题并增强了样式。

## [0.3.0^17] - 2024-09-06
### 修复
- 背景图片设置的BUG

## [0.3.0^16] - 2024-09-06
### 新增
- 新增最后背景图片重命名文件时的赋值功能
- 添加APK重命名和Minio部署步骤到发布工作流中
- 增加FAB按钮悬停在ForumPage上的可见性
- 添加帖子模型中的类别字段并在PostCard中显示
- 添加自定义背景图片功能到论坛页面
- 增加FAB按钮滚动时的可见性
- 添加随机背景图片模型文件

### 更新
- 优化课表配色
- 更新主题变更页面的canPop条件
- 调整了页面容器中的间距
- 修复成绩加载期间的异常处理逻辑
- 更新分类加载逻辑中的异常处理
- 更新论坛帖子序列化问题并改进UI
- 更新版面样式并增强UI
- 更新main.dart中的提示文本样式
- 修复了日期溢出问题并增强了CSS样式
- 更新数据库到第8版，并新增字段
- 增加了仅使用旧系统的支持
- 更新了背景图片页面的配色方案
- 修复考生成绩加载时的异常处理
- 更新登录页面的导航逻辑

### 修复
- 修复24新生无法登录问题
- 修复论坛帖子的溢出文本问题
- 修复考生成绩加载时的异常处理逻辑
- 修复了POST字段缺失的逻辑

## [0.2.2^15] - 2024-09-02
- 新增工具箱页面并添加初始功能
- 更新了个人资料页面的文本以提高清晰度
- 添加了作者页面和导航
- 添加了平台特定的版本检查和请求
- 重构：将imageBaseUrl更新为appOSSBaseUrl
- 重构：优化我的页面的分享功能
- 添加随机头像包，并集成到帖子卡片中
- 修复了toast位置的问题，并增加了清除确认
- 添加用户资料验证标志到论坛帖子中
- 增加了表情符号键盘可见性的处理
- 在论坛帖子中添加文本溢出的处理
- 增强了用户资料和评教页面的UI
- 更新了main.dart中的提示和标签样式
- 添加国家字段到forum_posts_response模型中
- 修复了分类加载逻辑中的错误处理和重试机制
- 更新了IP显示逻辑，以便在帖子卡片和详情中显示国家
- 添加google_fonts依赖并更新了计划页面的文本
- 修复日期溢出问题
- 默认显示到第二天
- 插入学期数据时使用OnConflictStrategy.replace策略
- 添加学期响应和更新URL检查
- 修复评论消息中的错字
- 移除了多余的文本，并在login.dart中更新了登录文本
- 增强了migrateLastShowChangelogVersionCodeKey逻辑
- 增强更新日志对话框以提高可滚动内容的可读性

## [0.2.1] - 2024-08-29
- 修复登录BUG
- 修复用户资料页面加载错误处理
- 发帖入口检测登录与否并提示
- 帖子文字可选中
- 增加账号激活入口
- 修复其它BUG

## [0.2.0] - 2024-08-28
- 论坛基本可以正常使用
- 修复了一系列BUG

## [0.1.2] - 2024-07-19
- 评教功能

## [0.1.1] - 2024-07-11
- 修复启动白屏

## [0.1.0] - 2024-07-08
- 修复教务功能达到基本稳定可用状态
- 修复课表页面的 Bug
- 新增 App 官网，分享 App 功能
- 修复主题配置功能，主题色分黑白模式
- 增加 App 账户体系以及论坛功能
- 登录页面忘记密码按钮
- 登录发短信显示手机号码
- 成绩单本地缓存以及红点功能

## [0.0.9] - 2024-06-27
### Fixed
- HTTP Header encode error
- 修复网络错误

## [0.0.8] - 2024-06-26
### Added
- 主题更改功能
- 反馈功能
- 课表刷新配色功能

### Fixed
- 修复自动登录 bug
- 登录图形验证码处理

